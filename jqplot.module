<?php

/**
 * @file
 * System which include Jquery jqPlot library.
 */

use Drupal\Core\Routing\RouteMatchInterface;

/**
 * Implements hook_help().
 */
function jqplot_help($route_name, RouteMatchInterface $route_match) {
  switch ($route_name) {
    case 'help.page.jqplot':
      $output = '';
      $output .= '<h3>' . t('Introduction') . '</h3>';
      $output .= '<p>' . t('jqPlot is a jQuery plugin to generate pure client-side javascript charts in your web pages. The jqPlot home page is at http://www.jqplot.com/. The project page and downloads are at http://www.bitbucket.org/cleonello/jqplot/. Few examples to demonstrate jqPlot static chart images on the examples pages here: /jqplot_example(Need to Enable jqplot_example module).') . '</p>';
      $output .= '<h3>' . t('Requirements') . '</h3>';
      $output .= '<h4>' . t('jquery.jqplot library') . '</h4>';
      $output .= t('You will need to download jquery.jqplot latest version from https://bitbucket.org/cleonello/jqplot/downloads/ and extract the jquery.jqplot files to the "<root>/libraries/" directory and rename to jquery.jqplot(e.g:<root>/libraries/jquery.jqplot/).');
      $output .= '<p>' . t('jquery.jqplot module requires jQuery 1.7 or higher jQuery version.') . '</p>';
      $output .= '<h3>' . t('Installation / Configuration') . '</h4>';
      $output .= t('1. Extract the module files to the "<root>/modules" directory. It should now contain a "jqplot" folder or download it using drush.') . '</br>';
      $output .= t('2. Enable the module in the "Administration panel > Modules > charts" section.') . '</br>';
      $output .= t('3. Create a custom module to include js files and to add plot.') . '</br>';
      $output .= '4. <b>' . t('Add a plot container') . '</b></br>';
      $output .= t('Add a container (target) to your web page where you want your plot to show up.  Be sure to give your target a width and a height:</br>');
      $output .= '#markup => div id="chart-pie" class="jqplot-target".</br>';
      $output .= '5. <b>' . t('Include the js Files') . '</b></br>';
      $output .= t("['#attached']['library'][] = 'jqplot/jqplot.pieRenderer.min;</br>");
      $output .= t("['#attached']['library'][] = 'jqplot_example/jqplot.example;</br>");
      $output .= '6. <b>' . t('Create a plot') . '</b></br>';
      $output .= t('Then, create the actual plot by calling the $.jqplot plugin with the id of your target and some data from .js files:<br>');
      $output .= t("$.jqplot ('chart-pie', [[3,7,9,1,4,6,8,2,5]]);<br>");
      $output .= '7. <b>' . t('Libraries Directory Configuration') . '</b></br>';
      $output .= t('You can Delete examples folder from jquery.jqplot library(e.g:<root>/libraries/jquery.jqplot/examples) for security reasons. You can also delete docs folder(e.g:<root>/libraries/jquery.jqplot/docs), if you want to save some bandwidth and space.');
      return $output;
  }
}
